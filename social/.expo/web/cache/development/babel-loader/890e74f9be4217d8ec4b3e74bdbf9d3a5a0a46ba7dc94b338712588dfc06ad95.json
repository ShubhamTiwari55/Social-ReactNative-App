{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport React, { useState } from \"react\";\nimport moment from \"moment\";\nimport axios from \"axios\";\nimport FontAwesome5 from \"@expo/vector-icons/FontAwesome5\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport EditModal from \"./EditModal\";\nimport { jsxs as _jsxs, jsx as _jsx } from \"react/jsx-runtime\";\nvar PostCard = function PostCard(_ref) {\n  var posts = _ref.posts,\n    myPostScreen = _ref.myPostScreen;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    loading = _useState2[0],\n    setLoading = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    modalVisible = _useState4[0],\n    setModalVisible = _useState4[1];\n  var _useState5 = useState({}),\n    _useState6 = _slicedToArray(_useState5, 2),\n    post = _useState6[0],\n    setPost = _useState6[1];\n  var navigation = useNavigation();\n  var handleDeletePropmt = function handleDeletePropmt(id) {\n    Alert.alert(\"Attention!\", \"Are You Sure Want to delete this post?\", [{\n      text: \"Cancel\",\n      onPress: function onPress() {\n        console.log(\"cancel press\");\n      }\n    }, {\n      text: \"Delete\",\n      onPress: function onPress() {\n        return handleDeletePost(id);\n      }\n    }]);\n  };\n  var handleDeletePost = function () {\n    var _ref2 = _asyncToGenerator(function* (id) {\n      try {\n        setLoading(true);\n        var _yield$axios$delete = yield axios.delete(`/post/delete-post/${id}`),\n          data = _yield$axios$delete.data;\n        setLoading(false);\n        alert(data == null ? void 0 : data.message);\n        navigation.push(\"Myposts\");\n      } catch (error) {\n        setLoading(false);\n        console.log(error);\n        alert(error);\n      }\n    });\n    return function handleDeletePost(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  return _jsxs(View, {\n    children: [_jsxs(Text, {\n      style: styles.heading,\n      children: [\"Total Posts \", posts == null ? void 0 : posts.length]\n    }), myPostScreen && _jsx(EditModal, {\n      modalVisible: modalVisible,\n      setModalVisible: setModalVisible,\n      post: post\n    }), posts == null ? void 0 : posts.map(function (post, i) {\n      var _post$postedBy, _post$postedBy2;\n      return _jsxs(View, {\n        style: styles.card,\n        children: [myPostScreen && _jsxs(View, {\n          style: {\n            flexDirection: \"row\",\n            justifyContent: \"flex-end\"\n          },\n          children: [_jsx(Text, {\n            style: {\n              marginHorizontal: 20\n            },\n            children: _jsx(FontAwesome5, {\n              name: \"pen\",\n              size: 16,\n              color: \"darkblue\",\n              onPress: function onPress() {\n                setPost(post), setModalVisible(true);\n              }\n            })\n          }), _jsx(Text, {\n            children: _jsx(FontAwesome5, {\n              name: \"trash\",\n              size: 16,\n              color: \"red\",\n              onPress: function onPress() {\n                return handleDeletePropmt(post == null ? void 0 : post._id);\n              }\n            })\n          })]\n        }), _jsxs(Text, {\n          style: styles.title,\n          children: [\"Title : \", post == null ? void 0 : post.title]\n        }), _jsxs(Text, {\n          style: styles.desc,\n          children: [\" \", post == null ? void 0 : post.description]\n        }), _jsxs(View, {\n          style: styles.footer,\n          children: [(post == null ? void 0 : (_post$postedBy = post.postedBy) == null ? void 0 : _post$postedBy.name) && _jsxs(Text, {\n            children: [\" \", _jsx(FontAwesome5, {\n              name: \"user\",\n              color: \"orange\"\n            }), \" \", post == null ? void 0 : (_post$postedBy2 = post.postedBy) == null ? void 0 : _post$postedBy2.name]\n          }), _jsxs(Text, {\n            children: [\" \", _jsx(FontAwesome5, {\n              name: \"clock\",\n              color: \"orange\"\n            }), \" \", moment(post == null ? void 0 : post.createdAt).format(\"DD:MM:YYYY\")]\n          })]\n        })]\n      }, i);\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  heading: {\n    color: \"green\",\n    textAlign: \"center\"\n  },\n  card: {\n    width: \"97%\",\n    backgroundColor: \"#ffffff\",\n    borderWidth: 0.2,\n    borderColor: \"gray\",\n    padding: 20,\n    borderRadius: 5,\n    marginVertical: 10\n  },\n  title: {\n    fontWeight: \"bold\",\n    paddingBottom: 10,\n    borderBottomWidth: 0.3\n  },\n  footer: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    marginTop: 20\n  },\n  desc: {\n    marginTop: 10\n  }\n});\nexport default PostCard;","map":{"version":3,"names":["React","useState","moment","axios","FontAwesome5","useNavigation","EditModal","jsxs","_jsxs","jsx","_jsx","PostCard","_ref","posts","myPostScreen","_useState","_useState2","_slicedToArray","loading","setLoading","_useState3","_useState4","modalVisible","setModalVisible","_useState5","_useState6","post","setPost","navigation","handleDeletePropmt","id","Alert","alert","text","onPress","console","log","handleDeletePost","_ref2","_asyncToGenerator","_yield$axios$delete","delete","data","message","push","error","_x","apply","arguments","View","children","Text","style","styles","heading","length","map","i","_post$postedBy","_post$postedBy2","card","flexDirection","justifyContent","marginHorizontal","name","size","color","_id","title","desc","description","footer","postedBy","createdAt","format","StyleSheet","create","textAlign","width","backgroundColor","borderWidth","borderColor","padding","borderRadius","marginVertical","fontWeight","paddingBottom","borderBottomWidth","marginTop"],"sources":["C:/Users/Hp/Downloads/react-native-fullstack-app-main/social/components/PostCard.js"],"sourcesContent":["import { View, Text, StyleSheet, Alert } from \"react-native\";\nimport React, { useState } from \"react\";\nimport moment from \"moment\";\nimport axios from \"axios\";\nimport FontAwesome5 from \"react-native-vector-icons/FontAwesome5\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport EditModal from \"./EditModal\";\n\nconst PostCard = ({ posts, myPostScreen }) => {\n  const [loading, setLoading] = useState(false);\n  const [modalVisible, setModalVisible] = useState(false);\n  const [post, setPost] = useState({});\n  const navigation = useNavigation();\n  //handle delete prompt\n  const handleDeletePropmt = (id) => {\n    Alert.alert(\"Attention!\", \"Are You Sure Want to delete this post?\", [\n      {\n        text: \"Cancel\",\n        onPress: () => {\n          console.log(\"cancel press\");\n        },\n      },\n      {\n        text: \"Delete\",\n        onPress: () => handleDeletePost(id),\n      },\n    ]);\n  };\n\n  //delete post data\n  const handleDeletePost = async (id) => {\n    try {\n      setLoading(true);\n      const { data } = await axios.delete(`/post/delete-post/${id}`);\n      setLoading(false);\n      alert(data?.message);\n      navigation.push(\"Myposts\");\n    } catch (error) {\n      setLoading(false);\n      console.log(error);\n      alert(error);\n    }\n  };\n  return (\n    <View>\n      <Text style={styles.heading}>Total Posts {posts?.length}</Text>\n      {myPostScreen && (\n        <EditModal\n          modalVisible={modalVisible}\n          setModalVisible={setModalVisible}\n          post={post}\n        />\n      )}\n      {posts?.map((post, i) => (\n        <View style={styles.card} key={i}>\n          {myPostScreen && (\n            <View style={{ flexDirection: \"row\", justifyContent: \"flex-end\" }}>\n              <Text style={{ marginHorizontal: 20 }}>\n                <FontAwesome5\n                  name=\"pen\"\n                  size={16}\n                  color={\"darkblue\"}\n                  onPress={() => {\n                    setPost(post), setModalVisible(true);\n                  }}\n                />\n              </Text>\n              <Text>\n                <FontAwesome5\n                  name=\"trash\"\n                  size={16}\n                  color={\"red\"}\n                  onPress={() => handleDeletePropmt(post?._id)}\n                />\n              </Text>\n            </View>\n          )}\n          <Text style={styles.title}>Title : {post?.title}</Text>\n          <Text style={styles.desc}> {post?.description}</Text>\n          <View style={styles.footer}>\n            {post?.postedBy?.name && (\n              <Text>\n                {\" \"}\n                <FontAwesome5 name=\"user\" color={\"orange\"} />{\" \"}\n                {post?.postedBy?.name}\n              </Text>\n            )}\n            <Text>\n              {\" \"}\n              <FontAwesome5 name=\"clock\" color={\"orange\"} />{\" \"}\n              {moment(post?.createdAt).format(\"DD:MM:YYYY\")}\n            </Text>\n          </View>\n        </View>\n      ))}\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  heading: {\n    color: \"green\",\n    textAlign: \"center\",\n  },\n  card: {\n    width: \"97%\",\n    backgroundColor: \"#ffffff\",\n    borderWidth: 0.2,\n    borderColor: \"gray\",\n    padding: 20,\n    borderRadius: 5,\n    marginVertical: 10,\n  },\n  title: {\n    fontWeight: \"bold\",\n    paddingBottom: 10,\n    borderBottomWidth: 0.3,\n  },\n  footer: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    marginTop: 20,\n  },\n  desc: {\n    marginTop: 10,\n  },\n});\n\nexport default PostCard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}