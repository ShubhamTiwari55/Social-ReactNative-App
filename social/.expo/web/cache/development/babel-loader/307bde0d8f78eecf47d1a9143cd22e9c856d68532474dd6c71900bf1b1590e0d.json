{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Touchable from \"react-native-web/dist/exports/Touchable\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport React, { useContext, useState } from \"react\";\nimport { AuthContext } from \"../context/authContext\";\nimport FooterMenu from \"../components/Menus/FooterMenu\";\nimport axios from \"axios\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nvar Account = function Account() {\n  var _useContext = useContext(AuthContext),\n    _useContext2 = _slicedToArray(_useContext, 2),\n    state = _useContext2[0],\n    setState = _useContext2[1];\n  var user = state.user,\n    token = state.token;\n  var _useState = useState(user == null ? void 0 : user.name),\n    _useState2 = _slicedToArray(_useState, 2),\n    name = _useState2[0],\n    setName = _useState2[1];\n  var _useState3 = useState(user == null ? void 0 : user.password),\n    _useState4 = _slicedToArray(_useState3, 2),\n    password = _useState4[0],\n    setPassword = _useState4[1];\n  var _useState5 = useState(user == null ? void 0 : user.email),\n    _useState6 = _slicedToArray(_useState5, 1),\n    email = _useState6[0];\n  var _useState7 = useState(false),\n    _useState8 = _slicedToArray(_useState7, 2),\n    loading = _useState8[0],\n    setLoading = _useState8[1];\n  var handleUpdate = function () {\n    var _ref = _asyncToGenerator(function* () {\n      try {\n        setLoading(true);\n        var _yield$axios$put = yield axios.put(\"/auth/update-user\", {\n            name: name,\n            password: password,\n            email: email\n          }),\n          data = _yield$axios$put.data;\n        setLoading(false);\n        var UD = JSON.stringify(data);\n        setState(_objectSpread(_objectSpread({}, state), {}, {\n          user: UD == null ? void 0 : UD.updatedUser\n        }));\n        alert(data && data.message);\n      } catch (error) {\n        alert(error.response.data.message);\n        setLoading(false);\n        console.log(error);\n      }\n    });\n    return function handleUpdate() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsxs(ScrollView, {\n      children: [_jsx(View, {\n        style: {\n          alignItems: \"center\"\n        },\n        children: _jsx(Image, {\n          source: {\n            uri: \"https://cdn.pixabay.com/photo/2020/07/01/12/58/icon-5359553_1280.png\"\n          },\n          style: {\n            height: 200,\n            width: 200,\n            borderRadius: 100\n          }\n        })\n      }), _jsx(Text, {\n        style: styles.warningtext,\n        children: \"Currently You Can Only Update Your Name And Password*\"\n      }), _jsxs(View, {\n        style: styles.inputContainer,\n        children: [_jsx(Text, {\n          style: styles.inputText,\n          children: \"Name\"\n        }), _jsx(TextInput, {\n          style: styles.inputBox,\n          value: name,\n          onChangeText: function onChangeText(text) {\n            return setName(text);\n          }\n        })]\n      }), _jsxs(View, {\n        style: styles.inputContainer,\n        children: [_jsx(Text, {\n          style: styles.inputText,\n          children: \"Email\"\n        }), _jsx(TextInput, {\n          style: styles.inputBox,\n          value: email,\n          editable: false\n        })]\n      }), _jsxs(View, {\n        style: styles.inputContainer,\n        children: [_jsx(Text, {\n          style: styles.inputText,\n          children: \"Password\"\n        }), _jsx(TextInput, {\n          style: styles.inputBox,\n          value: password,\n          onChangeText: function onChangeText(text) {\n            return setPassword(text);\n          },\n          secureTextEntry: true\n        })]\n      }), _jsxs(View, {\n        style: styles.inputContainer,\n        children: [_jsx(Text, {\n          style: styles.inputText,\n          children: \"Role\"\n        }), _jsx(TextInput, {\n          style: styles.inputBox,\n          value: state == null ? void 0 : state.user.role,\n          editable: false\n        })]\n      }), _jsx(View, {\n        style: {\n          alignItems: \"center\"\n        },\n        children: _jsx(TouchableOpacity, {\n          style: styles.updateBtn,\n          onPress: handleUpdate,\n          children: _jsx(Text, {\n            style: styles.updateBtnText,\n            children: loading ? \"Please Wait\" : \"Update Profile\"\n          })\n        })\n      })]\n    }), _jsx(View, {\n      style: {\n        flex: 1,\n        justifyContent: \"flex-end\"\n      },\n      children: _jsx(FooterMenu, {})\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    margin: 10,\n    justifyContent: \"space-between\",\n    marginTop: 40\n  },\n  warningtext: {\n    color: \"red\",\n    fontSize: 13,\n    textAlign: \"center\"\n  },\n  inputContainer: {\n    marginTop: 20,\n    flexDirection: \"row\",\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  inputText: {\n    fontWeight: \"bold\",\n    width: 70,\n    color: \"gray\"\n  },\n  inputBox: {\n    width: 250,\n    backgroundColor: \"#ffffff\",\n    marginLeft: 10,\n    fontSize: 16,\n    paddingLeft: 20,\n    borderRadius: 5\n  },\n  updateBtn: {\n    backgroundColor: \"black\",\n    color: \"white\",\n    height: 40,\n    width: 250,\n    borderRadius: 10,\n    marginTop: 30,\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  updateBtnText: {\n    color: \"#ffffff\",\n    fontSize: 16\n  }\n});\nexport default Account;","map":{"version":3,"names":["React","useContext","useState","AuthContext","FooterMenu","axios","jsx","_jsx","jsxs","_jsxs","Account","_useContext","_useContext2","_slicedToArray","state","setState","user","token","_useState","name","_useState2","setName","_useState3","password","_useState4","setPassword","_useState5","email","_useState6","_useState7","_useState8","loading","setLoading","handleUpdate","_ref","_asyncToGenerator","_yield$axios$put","put","data","UD","JSON","stringify","_objectSpread","updatedUser","alert","message","error","response","console","log","apply","arguments","View","style","styles","container","children","ScrollView","alignItems","Image","source","uri","height","width","borderRadius","Text","warningtext","inputContainer","inputText","TextInput","inputBox","value","onChangeText","text","editable","secureTextEntry","role","TouchableOpacity","updateBtn","onPress","updateBtnText","flex","justifyContent","StyleSheet","create","margin","marginTop","color","fontSize","textAlign","flexDirection","fontWeight","backgroundColor","marginLeft","paddingLeft"],"sources":["C:/Users/Hp/Downloads/react-native-fullstack-app-main/social/screens/Account.js"],"sourcesContent":["import {\n  View,\n  Text,\n  StyleSheet,\n  Image,\n  TextInput,\n  Touchable,\n  TouchableOpacity,\n  ScrollView,\n} from \"react-native\";\nimport React, { useContext, useState } from \"react\";\nimport { AuthContext } from \"../context/authContext\";\nimport FooterMenu from \"../components/Menus/FooterMenu\";\nimport axios from \"axios\";\nconst Account = () => {\n  //global state\n  const [state, setState] = useContext(AuthContext);\n  const { user, token } = state;\n  //local state\n  const [name, setName] = useState(user?.name);\n  const [password, setPassword] = useState(user?.password);\n  const [email] = useState(user?.email);\n  const [loading, setLoading] = useState(false);\n\n  //handle update user data\n  const handleUpdate = async () => {\n    try {\n      setLoading(true);\n      const { data } = await axios.put(\"/auth/update-user\", {\n        name,\n        password,\n        email,\n      });\n      setLoading(false);\n      let UD = JSON.stringify(data);\n      setState({ ...state, user: UD?.updatedUser });\n      alert(data && data.message);\n    } catch (error) {\n      alert(error.response.data.message);\n      setLoading(false);\n      console.log(error);\n    }\n  };\n  return (\n    <View style={styles.container}>\n      <ScrollView>\n        <View style={{ alignItems: \"center\" }}>\n          <Image\n            source={{\n              uri: \"https://cdn.pixabay.com/photo/2020/07/01/12/58/icon-5359553_1280.png\",\n            }}\n            style={{ height: 200, width: 200, borderRadius: 100 }}\n          />\n        </View>\n        <Text style={styles.warningtext}>\n          Currently You Can Only Update Your Name And Password*\n        </Text>\n        <View style={styles.inputContainer}>\n          <Text style={styles.inputText}>Name</Text>\n          <TextInput\n            style={styles.inputBox}\n            value={name}\n            onChangeText={(text) => setName(text)}\n          />\n        </View>\n        <View style={styles.inputContainer}>\n          <Text style={styles.inputText}>Email</Text>\n          <TextInput style={styles.inputBox} value={email} editable={false} />\n        </View>\n        <View style={styles.inputContainer}>\n          <Text style={styles.inputText}>Password</Text>\n          <TextInput\n            style={styles.inputBox}\n            value={password}\n            onChangeText={(text) => setPassword(text)}\n            secureTextEntry={true}\n          />\n        </View>\n        <View style={styles.inputContainer}>\n          <Text style={styles.inputText}>Role</Text>\n          <TextInput\n            style={styles.inputBox}\n            value={state?.user.role}\n            editable={false}\n          />\n        </View>\n        <View style={{ alignItems: \"center\" }}>\n          <TouchableOpacity style={styles.updateBtn} onPress={handleUpdate}>\n            <Text style={styles.updateBtnText}>\n              {loading ? \"Please Wait\" : \"Update Profile\"}\n            </Text>\n          </TouchableOpacity>\n        </View>\n      </ScrollView>\n      <View style={{ flex: 1, justifyContent: \"flex-end\" }}>\n        <FooterMenu />\n      </View>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    margin: 10,\n    justifyContent: \"space-between\",\n    marginTop: 40,\n  },\n  warningtext: {\n    color: \"red\",\n    fontSize: 13,\n    textAlign: \"center\",\n  },\n  inputContainer: {\n    marginTop: 20,\n    flexDirection: \"row\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  inputText: {\n    fontWeight: \"bold\",\n    width: 70,\n    color: \"gray\",\n  },\n  inputBox: {\n    width: 250,\n    backgroundColor: \"#ffffff\",\n    marginLeft: 10,\n    fontSize: 16,\n    paddingLeft: 20,\n    borderRadius: 5,\n  },\n  updateBtn: {\n    backgroundColor: \"black\",\n    color: \"white\",\n    height: 40,\n    width: 250,\n    borderRadius: 10,\n    marginTop: 30,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  updateBtnText: {\n    color: \"#ffffff\",\n    fontSize: 16,\n  },\n});\nexport default Account;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}